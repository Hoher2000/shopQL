directive @goModel(
	model: String
	models: [String!]
) on OBJECT | INPUT_OBJECT | SCALAR | ENUM | INTERFACE | UNION

directive @goField(
	forceResolver: Boolean
	name: String
	omittable: Boolean
	type: String
) on INPUT_FIELD_DEFINITION | FIELD_DEFINITION

directive @auth on FIELD_DEFINITION

input CartItemInput {
  itemID: ID!
  quantity: Int!
}

type Seller @goModel(model: "github.com/Hoher2000/shopQL/customModels.Seller") {
  id: ID!
  name: String!
  deals: Int!
  items(limit: Int = 3, offset: Int = 0): [Item!]! @goField(forceResolver: true)
}

type Item @goModel(model: "github.com/Hoher2000/shopQL/customModels.Item") {
  id: ID!
  name: String!
  inStockText: String! @goField(forceResolver: true)
  inCart: Int! @goField(forceResolver: true) @auth
  seller: Seller! @goField(forceResolver: true)
  catalog: Catalog! @goField(forceResolver: true)
  parent: Catalog! @goField(forceResolver: true)
}

type Catalog @goModel(model: "github.com/Hoher2000/shopQL/customModels.Catalog") {
  id: ID!
  name: String!
  childs: [Catalog!]! @goField(forceResolver: true)
  parent: Catalog @goField(forceResolver: true)
  items(limit: Int = 3, offset: Int = 0): [Item!]! @goField(forceResolver: true)
  itemsCount: Int! @goField(forceResolver: true)
}

type CartItem @goModel(model: "github.com/Hoher2000/shopQL/customModels.CartItem") {
  item: Item! @goField(forceResolver: true)
  quantity: Int! @goField(forceResolver: true)
}

type Query {
  Catalog(ID: ID!): Catalog! 
  Seller(ID: ID!): Seller!
  MyCart: [CartItem!]! @auth
}

type Mutation {
  AddToCart(in: CartItemInput!): [CartItem!]! @auth
  RemoveFromCart(in: CartItemInput!): [CartItem!]! @auth
}
